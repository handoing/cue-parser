var N=Object.defineProperty,D=t=>N(t,"__esModule",{value:!0}),P=(t,e)=>{D(t);for(var i in e)N(t,i,{get:e[i],enumerable:!0})};P(exports,{compile:()=>Q,generate:()=>p,parser:()=>S,tokenizer:()=>k});var X={isWhiteSpace(t){return t===32},isLetter(t){return t>=65&&t<=90||t>=97&&t<=122},isChar(t){return t===123||t===125||t===32||t===10||t===9||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122}},T=X,a={};a.CHARACTER_TOKEN="CHARACTER_TOKEN";a.START_TAG_TOKEN="START_TAG_TOKEN";a.END_TAG_TOKEN="END_TAG_TOKEN";a.EOF_TOKEN="EOF_TOKEN";a.EXP_START_IF_TOKEN="EXP_START_IF_TOKEN";a.EXP_THEN_IF_TOKEN="EXP_THEN_IF_TOKEN";a.EXP_END_IF_TOKEN="EXP_END_IF_TOKEN";var o=a,c="DATA_STATE",R="TAG_OPEN_STATE",x="TAG_NAME_STATE",v="TAG_CLOSE_STATE",u="BEFORE_ATTRIBUTE_NAME_STATE",I="ATTRIBUTE_NAME_STATE",m="BEFORE_ATTRIBUTE_VALUE_STATE",C="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",g="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",U="ATTRIBUTE_VALUE_DOUBLE_BRACE_STATE",$="AFTER_ATTRIBUTE_VALUE_BRACE_STATE",d="TEXT_STATE",L="EXPRESSION_START",_="EXPRESSION",B="c-",K=class{constructor(e){this.source=e,this.length=e.length,this.index=0,this.state=c,this.currentToken=null,this.currentAttr=null,this.buffer=[]}eof(){return this.index>=this.length}lex(){for(;!this.buffer.length&&!this.eof();){let e=this.source.charCodeAt(this.index);this[this.state](e,this.source[this.index])}return this.buffer.shift()}peek(e){return this.source.charCodeAt(this.index+e)}[c](e){T.isWhiteSpace(e)||e===10?++this.index:e===60?(this.state=R,++this.index):T.isLetter(e)?(this._createTextToken(),this.state=d):e===123?(this.peek(2)===35||this.peek(2)===47)&&this.peek(1)===123?this.index+=2:(this._createTextToken(),this.state=d):(e===35||e===47)&&(this.state=L,++this.index)}[d](e,i){T.isChar(e)||e===46?(this.currentToken.value+=i,++this.index):e===60&&(this._emitCurrentToken(),this.state=c)}[v](e){T.isLetter(e)&&(this._createEndTagToken(),this.state=x)}[R](e){T.isLetter(e)?(this._createStartTagToken(),this.state=x):this.source.charCodeAt(this.index)===47&&(this.state=v,++this.index)}[x](e,i){T.isLetter(e)?(this.currentToken.value+=i,++this.index):T.isWhiteSpace(e)||e===10?(this.state=u,++this.index):e===62&&(this.state=c,++this.index,this._emitCurrentToken())}[u](e){T.isLetter(e)?(this._createAttr(""),this.state=I):(T.isWhiteSpace(e)||e===10||e===9)&&++this.index}[I](e,i){T.isLetter(e)||e===45?(this.currentAttr.name+=i,++this.index):e===61&&(this.state=m,++this.index)}[m](e){e===34?(this.state=C,++this.index):e===123&&this.peek(1)===123&&(this.state=U,this.index+=2)}[C](e,i){e!==34?(this.currentAttr.value+=i,++this.index):e===34&&(this.currentAttr.name.indexOf(B)===0?this.currentToken.directives.push(this.currentAttr):this.currentToken.attrs.push(this.currentAttr),this.state=g,++this.index)}[g](e){e===62?(this.state=c,++this.index,this._emitCurrentToken()):T.isWhiteSpace(e)||e===10||e===9?++this.index:T.isLetter(e)?this.state=u:(e===47||this.peek(1)===62)&&(this.state=c,this.index+=2,this._emitCurrentCloseToken())}[U](e,i){e!==125?(this.currentAttr.value+=i,++this.index):e===125&&this.peek(1)===125&&(this.currentAttr.name.indexOf(B)===0?this.currentToken.directives.push(this.currentAttr):this.currentToken.attrs.push(this.currentAttr),this.state=$,this.index+=2)}[$](e){e===62?(this.state=c,++this.index,this._emitCurrentToken()):T.isWhiteSpace(e)||e===10||e===9?++this.index:T.isLetter(e)&&(this.state=u)}[L](e){e===105||e===102?++this.index:T.isWhiteSpace(e)?++this.index:e===101?(this._createExpressionThenIf(),this.state=_):e===125?(this._createExpressionEndIf(),this.state=_):T.isLetter(e)&&(this._createExpressionStartIf(),this.state=_)}[_](e,i){T.isLetter(e)?(this.currentToken.value+=i,++this.index):T.isWhiteSpace(e)?++this.index:e===125&&(++this.index,this.source.charCodeAt(this.index)===125&&(this.state=c,++this.index,this._emitCurrentToken()))}_emitCurrentToken(){let e=this.currentToken;this.buffer.push(e)}_emitCurrentCloseToken(){let e=this.currentToken.value;this._emitCurrentToken(),this._createEndTagToken(),this.currentToken.value=e,this._emitCurrentToken()}_createAttr(e){this.currentAttr={name:e,value:""}}_createStartTagToken(){this.currentToken={type:o.START_TAG_TOKEN,value:"",attrs:[],directives:[]}}_createEndTagToken(){this.currentToken={type:o.END_TAG_TOKEN,value:""}}_createTextToken(){this.currentToken={type:o.CHARACTER_TOKEN,value:""}}_createExpressionStartIf(){this.currentToken={type:o.EXP_START_IF_TOKEN,value:""}}_createExpressionThenIf(){this.currentToken={type:o.EXP_THEN_IF_TOKEN,value:""}}_createExpressionEndIf(){this.currentToken={type:o.EXP_END_IF_TOKEN,value:""}}},y=K,F=class{constructor(e){this.scanner=new y(e)}getNextToken(){if(!this.scanner.eof()){let e=this.scanner.lex();if(e)return e}}};function b(t){let e=[],i=new F(t);try{for(;;){let s=i.getNextToken();if(!s)break;e.push(s)}}catch(s){console.error(s)}return e}var k=b;function G(t){let e=[],i=[],s=0,n,r;for(;s<t.length;){let h=t[s];switch(h.type){case o.START_TAG_TOKEN:e.push({type:"tag",name:h.value,attrs:h.attrs,directives:h.directives,children:[]});break;case o.CHARACTER_TOKEN:let E=e[e.length-1];E?E.children.push({type:"text",data:h.value}):i.push({type:"text",data:h.value});break;case o.END_TAG_TOKEN:r=e.pop(),n=e[e.length-1],n?n.children.push(r):i.push(r);break;case o.EXP_START_IF_TOKEN:e.push({type:"if",expression:h.value}),e.push({children:[]});break;case o.EXP_THEN_IF_TOKEN:r=e.pop(),n=e[e.length-1],n&&(n.if=r.children),e.push({children:[]});break;case o.EXP_END_IF_TOKEN:r=e.pop(),n=e[e.length-1],n&&(n.else=r.children),r=e.pop(),n=e[e.length-1],n?n.children.push(r):i.push(r);break}s++}return i}var S=G,w=function(){let t={"on-click":function(e){return e=e.replace(/this/g,"_ctx"),`function($event) { ${e} }`}};return function(e,i){return t[e]?t[e](i):`"${i}"`}}(),V=function(){let t={"c-show":function(e){return"_vShow"},"c-hide":function(e){return"_vHide"}};return function(e,i){return t[e]?t[e](i):`"${e}"`}}();function H(t){let e=Object.keys(t).reduce((i,s,n)=>{let r=`"${s}"`,h=w(s,t[s]);return i+=`${r}: ${O(h,{isAnalysisEvent:!0})},`},"");return`{ ${e} }`}function z(t){let e=Object.keys(t).reduce((i,s,n)=>{let r=V(s,t[s]),h=t[s];return i+=`[${r}, ${O(h)}],`},"");return`[ ${e} ]`}function O(t,{isAnalysisEvent:e}={}){let i=t.match(/\{\{(.+?)\}\}/);if(i){let s=i.input.substring(0,i.index),n=i.input.substring(i.index+i[0].length,i.input.length),r=`${s}" + _string(_ctx.data.${i[1]}) + "${n}`;return e?r:`"${r}"`}else return e?t:`"${t}"`}function W(t,e){let i=e===0?"":",";if(t.type==="text")return`${i}_createText(${O(t.data)})`;if(t.type==="tag"){let s=t.attrs.length>0,n=t.directives.length>0,r={},h={},E="";return s&&t.attrs.map(({name:l,value:A})=>{r[l]=A}),E=`_creatElement('${t.name}', ${H(r)}, [ ${t.children?f(t.children):""} ])`,n&&(t.directives.map(({name:l,value:A})=>{h[l]=A}),E=`_withDirectives(${E}, ${z(h)})`),`${i} ${E}`}if(t.type==="if")return`${i}_if(_ctx.data.${t.expression}, function() { return ${t.if?f(t.if):"[]"} }, function() { return ${t.else?f(t.else):"[]"} })`}function f(t){return t.map(function(e,i){return W(e,i)}).join("")}function M(t,e){let i=f(t);return`function create(_ctx) { return ${i} }`}var p=M;function Q(t){let e=k(t),i=S(e),s=p(i),n=new Function(`return ${s}`);return n()}
